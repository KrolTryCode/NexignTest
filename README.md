# Nexign Test Project

## Описание задачи

Разработать систему, которая генерирует отчеты о звонках абонентов сотового оператора, основываясь на данных из CDR (Call Data Record) файлов.

### Требования к задаче

1. **Генерация CDR файлов**: Симуляция работы коммутатора для генерации CDR файлов с информацией о звонках абонентов.
   - Тип вызова (исходящий/входящий)
   - Номер абонента
   - Дата и время начала звонка
   - Дата и время окончания звонка
2. **Агрегация данных в UDR отчеты**: Преобразование данных из CDR файлов в UDR (Usage Data Report) отчеты для каждого абонента.
3. **Хранение данных**: Использование локальной базы данных H2 для хранения информации о транзакциях и списка абонентов.
4. **Вывод отчетов**: Генерация отчетов в консоль и в формате JSON для каждого абонента.

## Реализация

### Ключевые компоненты

- `CDRGenerator`: Генерирует CDR файлы, имитируя работу коммутатора. Данные в файлах генерируются случайным образом.
- `CDRReader`: Читает CDR файлы и преобразует информацию о звонках в структурированный формат.
- `H2Database`: Управляет подключением к локальной базе данных H2, используется для хранения информации о звонках и абонентах.
- `UDRGenerator`: Агрегирует данные из CDR файлов и генерирует отчеты UDR, которые затем сохраняются в виде JSON файлов.
- `ReportGenerator`: Предоставляет методы для вывода сгенерированных отчетов в консоль, позволяя получить детализированную информацию по каждому абоненту и месяцу.
- `Main`: Главный исполняемый класс, который инициирует процесс генерации CDR файлов, их чтения, обработки данных, генерации UDR отчетов и вывода результатов.
- `CallRecord`: Record класс в Java, который представляет собой структурированный объект данных для хранения информации о каждом звонке.
  
### Использование

Для генерации отчетов запустите основной класс `Main`, который выполнит необходимые шаги для генерации CDR файлов, их обработки, генерации UDR файлов и вывода отчетов.

### Зависимости

Проект использует следующие зависимости:

- H2 Database: Локальная база данных для хранения информации о звонках.
- JUnit: Фреймворк для модульного тестирования Java приложений.


### Тестирование

Проект включает юнит-тесты для ключевых компонентов, написанные с использованием JUnit5. Запустить тесты можно с помощью Gradle:
`./gradlew test`

### Сборка и запуск

# Клонирование репозитория
`git clone https://github.com/KrolTryCode/NexignTest`

# Переход в директорию проекта
`cd NexignTest`

# Сборка проекта
`./gradlew build`

# Запуск приложения
`java -jar build/libs/NexignTest-1.0-SNAPSHOT-main.jar`
